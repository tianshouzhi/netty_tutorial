package com.tianshouzhi.netty.buffer;

import org.junit.Test;

/**
 * Created by tianshouzhi on 2018/4/4.
 */
public class PooledByteBufferAllocatorTest {
	@Test
	public void testDefaultConf() {
//		System.out.println("---------PooledByteBufAllocator Default Config---------");
//		System.out.println("defaultPageSize:" + PooledByteBufAllocator.defaultPageSize());
//		System.out.println("defaultNumHeapArena:" + PooledByteBufAllocator.defaultNumHeapArena());
//		System.out.println("defaultNumDirectArena:" + PooledByteBufAllocator.defaultNumDirectArena());
//		System.out.println("defaultPreferDirect:" + PooledByteBufAllocator.defaultPreferDirect());
//		System.out.println("defaultMaxOrder:" + PooledByteBufAllocator.defaultMaxOrder());
//		System.out.println();
//		System.out.println("defaultUseCacheForAllThreads:" + PooledByteBufAllocator.defaultUseCacheForAllThreads());
//		System.out.println(
//		      "directMemoryCacheAlignmentSupported:" + PooledByteBufAllocator.isDirectMemoryCacheAlignmentSupported());
//		System.out.println("defaultNormalCacheSize:" + PooledByteBufAllocator.defaultNormalCacheSize());
//		System.out.println("defaultSmallCacheSize:" + PooledByteBufAllocator.defaultSmallCacheSize());
//		System.out.println("defaultTinyCacheSize:" + PooledByteBufAllocator.defaultTinyCacheSize());
	}

    @Test
	public void test() throws InterruptedException {
//
//        final Runtime runtime = Runtime.getRuntime();
//        System.out.println(ManagementFactory.getRuntimeMXBean().getName());
//        int DEFAULT_PAGE_SIZE=8192;
//        int DEFAULT_MAX_ORDER=11;
//        final int defaultChunkSize = DEFAULT_PAGE_SIZE << DEFAULT_MAX_ORDER;
//        final int defaultMinNumArena = NettyRuntime.availableProcessors() * 2;
//        System.out.println(defaultMinNumArena);
//        System.out.println(runtime.maxMemory() / defaultChunkSize / 2 / 3);
//        System.out.println(VM.maxDirectMemory());
//
////        System.out.println(PlatformDependent.maxDirectMemory());
//        Thread.sleep(100000000);
    }
}
